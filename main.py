import os
import time

# === –ì–õ–û–ë–ê–õ–¨–ù–û–ï –°–û–°–¢–û–Ø–ù–ò–ï –ò–ì–†–´ ===
progress = 0  # 0=–ù–∞—á–∞–ª–æ, 1=–ü—Ä–æ—à–µ–ª –∏–º–ø—É–ª—å—Å, 2=–ü—Ä–æ—à–µ–ª –º–∞–≥–Ω–∏—Ç, 3=–ü—Ä–æ—à–µ–ª –ê—Ä–∞–≥–æ

# === –§–ò–ó–ò–ß–ï–°–ö–ò–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï (–ì–ª–æ–±–∞–ª—å–Ω—ã–µ) ===
# –î–ª—è –û–ø—ã—Ç–∞ 1 (–ò–º–ø—É–ª—å—Å)
current_on = False       # –†—É–±–∏–ª—å–Ω–∏–∫ –ø–µ—Ä–≤–∏—á–Ω–æ–π —Ü–µ–ø–∏
prev_current_on = False  # –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –ø—Ä–æ—à–ª–æ–º –∫–∞–¥—Ä–µ
secondary_voltage = 0.0  # –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ –≤–æ –≤—Ç–æ—Ä–∏—á–Ω–æ–π —Ü–µ–ø–∏

# –î–ª—è –û–ø—ã—Ç–∞ 2 (–ú–∞–≥–Ω–∏—Ç) - –ø–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –æ–±—ä—è–≤–∏–º, —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞–ª–æ—Å—å
speed = 0
magnet_position = 0

# ==========================================
# –ì–õ–ê–í–ê 1: –ó–ê–ì–ê–î–û–ß–ù–´–ô –ò–ú–ü–£–õ–¨–°
# ==========================================
def chapter_1_pulse():
    global current_on, prev_current_on, secondary_voltage, progress
    
    # –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —É—Ä–æ–≤–µ–Ω—å
    current_on = False
    prev_current_on = False
    message = ""
    success_count = 0 # –ù—É–∂–Ω–æ –ø–æ–π–º–∞—Ç—å –∏–º–ø—É–ª—å—Å 3 —Ä–∞–∑–∞, —á—Ç–æ–±—ã –ø—Ä–æ–π—Ç–∏ —É—Ä–æ–≤–µ–Ω—å

    # –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ (–¢–µ–∫—Å—Ç –∏–∑ —Ç–≤–æ–µ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è)
    os.system('clear')
    print("\n--- –ì–õ–ê–í–ê I: –¢–ê–ô–ù–ê, –°–í–Ø–ó–ê–í–®–ê–Ø –≠–õ–ï–ö–¢–†–ò–ß–ï–°–¢–í–û –ò –ú–ê–ì–ù–ï–¢–ò–ó–ú ---\n")
    print("–í –Ω–∞—á–∞–ª–µ XIX –≤–µ–∫–∞ —É—á–µ–Ω—ã–µ –∑–Ω–∞–ª–∏: —Ç–æ–∫ —Å–æ–∑–¥–∞–µ—Ç –º–∞–≥–Ω–µ—Ç–∏–∑–º.")
    print("–§–∞—Ä–∞–¥–µ–π –∑–∞–¥–∞–ª –≤–æ–ø—Ä–æ—Å: –º–æ–∂–µ—Ç –ª–∏ –º–∞–≥–Ω–µ—Ç–∏–∑–º –ø–æ—Ä–æ–¥–∏—Ç—å —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ?")
    print("–ü–µ—Ä–µ–¥ –≤–∞–º–∏ –¥–≤–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ç—É—à–∫–∏ –Ω–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–¥–µ—á–Ω–∏–∫–µ.")
    print("–û–¥–Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ –º–æ—â–Ω–æ–π –±–∞—Ç–∞—Ä–µ–µ, –≤—Ç–æ—Ä–∞—è - –∫ –≥–∞–ª—å–≤–∞–Ω–æ–º–µ—Ç—Ä—É.")
    input("\n–ù–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç...")

    while True:
        os.system('clear')
        print("--- –≠–ö–°–ü–ï–†–ò–ú–ï–ù–¢ ‚Ññ1: –ó–ê–ì–ê–î–û–ß–ù–´–ô –ò–ú–ü–£–õ–¨–° ---")
        print(f"–¶–µ–ª—å: –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤—Å–ø–ª–µ—Å–∫ —Ç–æ–∫–∞ ({success_count}/3 —Ä–∞–∑)\n")
        
        # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ü–µ–ø–∏
        switch_state = "[ –ó–ê–ú–ö–ù–£–¢ ]" if current_on else "[ –†–ê–ó–û–ú–ö–ù–£–¢ ]"
        print(f"–ë–∞—Ç–∞—Ä–µ—è (–ü–µ—Ä–≤–∏—á–Ω–∞—è —Ü–µ–ø—å): {switch_state}")
        
        # –õ–æ–≥–∏–∫–∞ —Ñ–∏–∑–∏–∫–∏ (–í–∑–∞–∏–º–æ–∏–Ω–¥—É–∫—Ü–∏—è)
        secondary_voltage = 0
        if current_on != prev_current_on:
            # –í—Å–ø–ª–µ—Å–∫ —Ç–æ–ª—å–∫–æ –≤ –º–æ–º–µ–Ω—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è!
            if current_on:
                secondary_voltage = 10.0  # –í—Å–ø–ª–µ—Å–∫ +
                msg_effect = ">>> –°–¢–†–ï–õ–ö–ê –î–ï–†–ù–£–õ–ê–°–¨ –í–ü–†–ê–í–û! >>>"
            else:
                secondary_voltage = -10.0 # –í—Å–ø–ª–µ—Å–∫ -
                msg_effect = "<<< –°–¢–†–ï–õ–ö–ê –î–ï–†–ù–£–õ–ê–°–¨ –í–õ–ï–í–û! <<<"
            
            # –ï—Å–ª–∏ –∏–≥—Ä–æ–∫ —É–≤–∏–¥–µ–ª —ç—Ç–æ, –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            success_count += 1
            message = f"{msg_effect} (–í—ã –∑–∞–º–µ—Ç–∏–ª–∏ –∏–º–ø—É–ª—å—Å!)"
        else:
            # –ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ—Ç - —Ç–∏—à–∏–Ω–∞
            secondary_voltage = 0
        
        # –í—ã–≤–æ–¥ –ø—Ä–∏–±–æ—Ä–∞
        print(f"–ì–∞–ª—å–≤–∞–Ω–æ–º–µ—Ç—Ä (–í—Ç–æ—Ä–∏—á–Ω–∞—è —Ü–µ–ø—å): {secondary_voltage} –í")
        
        if message:
            print(f"\nüì¢ {message}")
            message = "" # –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã
        if success_count >= 3:
            print("\n‚úÖ –û–¢–ö–†–´–¢–ò–ï –°–û–í–ï–†–®–ï–ù–û!")
            print("–í—ã–≤–æ–¥ –§–∞—Ä–∞–¥–µ—è: –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ç–æ–∫ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –¥—Ä—É–≥–æ–≥–æ —Ç–æ–∫–∞.")
            print("–¢–æ–∫ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –õ–ò–®–¨ –í –ú–û–ú–ï–ù–¢ –ò–ó–ú–ï–ù–ï–ù–ò–Ø.")
            input("\n–ù–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –∑–∞–ø–∏—Å–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤ –∂—É—Ä–Ω–∞–ª...")
            if progress < 1: progress = 1
            break

        prev_current_on = current_on

        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
        print("\n[–ü–£–õ–¨–¢] Space: –í–∫–ª/–í—ã–∫–ª —Ä—É–±–∏–ª—å–Ω–∏–∫ | q: –í—ã—Ö–æ–¥ –≤ –º–µ–Ω—é")
        cmd = input("–î–µ–π—Å—Ç–≤–∏–µ > ")
        
        if cmd == ' ':
            current_on = not current_on
        elif cmd == 'q':
            break

# ==========================================
# –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ
# ==========================================
def main():
    while True:
        os.system('clear')
        print("=== ASYNC ML ODYSSEY: –ü–£–¢–¨ –§–ê–†–ê–î–ï–Ø ===")
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ –º–µ–Ω—é —Å –∑–∞–º–∫–∞–º–∏
        p1 = " " if progress >= 0 else "üîí"
        p2 = " " if progress >= 1 else "üîí"
        p3 = " " if progress >= 2 else "üîí"
        p4 = " " if progress >= 3 else "üîí"

        print(f"1. {p1} –ì–ª–∞–≤–∞ I: –¢–∞–π–Ω–∞ –∏ –ò–º–ø—É–ª—å—Å (–í–∑–∞–∏–º–æ–∏–Ω–¥—É–∫—Ü–∏—è)")
        print(f"2. {p2} –ì–ª–∞–≤–∞ II: –ú–∞–≥–Ω–∏—Ç –∏ –õ—è–≥—É—à–∫–∞ (–ò–Ω–¥—É–∫—Ü–∏—è)")
        print(f"3. {p3} –ì–ª–∞–≤–∞ III: –ï–¥–∏–Ω—ã–π –ó–∞–∫–æ–Ω (–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è)")
        print(f"4. {p4} –ì–ª–∞–≤–∞ IV: –î–∏—Å–∫ –ê—Ä–∞–≥–æ (–ú–æ—Ç–æ—Ä)")
        print("q. –í—ã—Ö–æ–¥")

        choice = input("\n–í—ã–±–æ—Ä > ")

        if choice == '1':
            chapter_1_pulse()
        elif choice == '2':
            if progress >= 1:
                print("–≠—Ç–æ—Ç —É—Ä–æ–≤–µ–Ω—å –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º...")
                input()
            else:
                print("–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–π–¥–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â—É—é –≥–ª–∞–≤—É!")
                input()
        elif choice == 'q':
            break

if __name__ == "__main__":
    main()